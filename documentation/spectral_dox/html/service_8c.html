<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Spectral Clock: C:/Users/Jakub Wieczorek/Desktop/studia/SMS/spectral_clock/code/Src/service.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Spectral Clock
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="dir_d11a8c0eba3e0c713ab8f94d5cd478dc.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">service.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>service source file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="service_8h_source.html">service.h</a>&quot;</code><br />
<code>#include &quot;stdbool.h&quot;</code><br />
<code>#include &quot;<a class="el" href="pictures_8h_source.html">pictures.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0471005c9a43a9287ead2b95df751f01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8c.html#a0471005c9a43a9287ead2b95df751f01">latch_data</a> (<a class="el" href="struct_l_e_d___l_a_t_c_h.html">led_latch_t</a> a_latch)</td></tr>
<tr class="memdesc:a0471005c9a43a9287ead2b95df751f01"><td class="mdescLeft">&#160;</td><td class="mdescRight">latches states which are in leds array in led_latch_t instance  <a href="#a0471005c9a43a9287ead2b95df751f01">More...</a><br /></td></tr>
<tr class="separator:a0471005c9a43a9287ead2b95df751f01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d0d368b66c57ad37fa7ad07d429e438"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8c.html#a7d0d368b66c57ad37fa7ad07d429e438">update_leds</a> (<a class="el" href="struct_p_i_c_t_u_r_e.html">picture_t</a> a_picture)</td></tr>
<tr class="memdesc:a7d0d368b66c57ad37fa7ad07d429e438"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets information from the picture data into leds in particular latches  <a href="#a7d0d368b66c57ad37fa7ad07d429e438">More...</a><br /></td></tr>
<tr class="separator:a7d0d368b66c57ad37fa7ad07d429e438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad887913327f9f3c12086cc7ba2ef924c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8c.html#ad887913327f9f3c12086cc7ba2ef924c">update_resolution_time</a> (<a class="el" href="struct_e_n_g_i_n_e___t_i_m.html">engine_tim_t</a> *a_engine_tim, <a class="el" href="struct_p_i_c_t_u_r_e___t_i_m.html">picture_tim_t</a> *a_picture_tim)</td></tr>
<tr class="memdesc:ad887913327f9f3c12086cc7ba2ef924c"><td class="mdescLeft">&#160;</td><td class="mdescRight">updates resolution time  <a href="#ad887913327f9f3c12086cc7ba2ef924c">More...</a><br /></td></tr>
<tr class="separator:ad887913327f9f3c12086cc7ba2ef924c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af84ff48f1ea8053222ec3db499c1d37f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8c.html#af84ff48f1ea8053222ec3db499c1d37f">change_picture</a> (uint8_t a_picture_idx, <a class="el" href="struct_p_i_c_t_u_r_e.html">picture_t</a> *a_picture)</td></tr>
<tr class="memdesc:af84ff48f1ea8053222ec3db499c1d37f"><td class="mdescLeft">&#160;</td><td class="mdescRight">change picture 'A' -&gt; HALF_WHEEL 'B' -&gt; CLOCK 'C' -&gt; ONYKS  <a href="#af84ff48f1ea8053222ec3db499c1d37f">More...</a><br /></td></tr>
<tr class="separator:af84ff48f1ea8053222ec3db499c1d37f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4f138eb2432c3cc07e3cde48b45ed419"><td class="memItemLeft" align="right" valign="top"><a id="a4f138eb2432c3cc07e3cde48b45ed419"></a>
<a class="el" href="struct_l_e_d___l_a_t_c_h.html">led_latch_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>U2_upper</b></td></tr>
<tr class="separator:a4f138eb2432c3cc07e3cde48b45ed419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd92be42fae68d5185da1652eef887af"><td class="memItemLeft" align="right" valign="top"><a id="acd92be42fae68d5185da1652eef887af"></a>
<a class="el" href="struct_l_e_d___l_a_t_c_h.html">led_latch_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>U19_lower</b></td></tr>
<tr class="separator:acd92be42fae68d5185da1652eef887af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>service source file. </p>
<dl class="section author"><dt>Author</dt><dd>Jakub Wieczorek <a href="#" onclick="location.href='mai'+'lto:'+'jak'+'ub'+'.wi'+'ec'+'zor'+'ek'+'010'+'1@'+'gma'+'il'+'.co'+'m'; return false;">jakub<span style="display: none;">.nosp@m.</span>.wie<span style="display: none;">.nosp@m.</span>czore<span style="display: none;">.nosp@m.</span>k010<span style="display: none;">.nosp@m.</span>1@gma<span style="display: none;">.nosp@m.</span>il.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>10.06.2018 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af84ff48f1ea8053222ec3db499c1d37f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af84ff48f1ea8053222ec3db499c1d37f">&#9670;&nbsp;</a></span>change_picture()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void change_picture </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a_picture_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_c_t_u_r_e.html">picture_t</a> *&#160;</td>
          <td class="paramname"><em>a_picture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>change picture 'A' -&gt; HALF_WHEEL 'B' -&gt; CLOCK 'C' -&gt; ONYKS </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_picture_idx</td><td>uint8_t a_picture_idx above indexes </td></tr>
    <tr><td class="paramname">a_picture</td><td>picture_t a_picture pointer to picture_t instance it will be update in function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_p_i_c_t_u_r_e.html" title="the picture displayed by leds ">PICTURE</a> </dd></dl>

</div>
</div>
<a id="a0471005c9a43a9287ead2b95df751f01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0471005c9a43a9287ead2b95df751f01">&#9670;&nbsp;</a></span>latch_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void latch_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_l_e_d___l_a_t_c_h.html">led_latch_t</a>&#160;</td>
          <td class="paramname"><em>a_latch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>latches states which are in leds array in led_latch_t instance </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">led_latch_t</td><td>a_latch <a class="el" href="struct_l_e_d___l_a_t_c_h.html" title="struct represanting one of latches with port and pin also the array with leds instances ...">LED_LATCH</a> instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_l_e_d___l_a_t_c_h.html" title="struct represanting one of latches with port and pin also the array with leds instances ...">LED_LATCH</a> </dd></dl>

</div>
</div>
<a id="a7d0d368b66c57ad37fa7ad07d429e438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d0d368b66c57ad37fa7ad07d429e438">&#9670;&nbsp;</a></span>update_leds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_leds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_p_i_c_t_u_r_e.html">picture_t</a>&#160;</td>
          <td class="paramname"><em>a_picture</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sets information from the picture data into leds in particular latches </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">picture_t</td><td>a_picture picture_t instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_p_i_c_t_u_r_e.html" title="the picture displayed by leds ">PICTURE</a> </dd></dl>

</div>
</div>
<a id="ad887913327f9f3c12086cc7ba2ef924c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad887913327f9f3c12086cc7ba2ef924c">&#9670;&nbsp;</a></span>update_resolution_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_resolution_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_e_n_g_i_n_e___t_i_m.html">engine_tim_t</a> *&#160;</td>
          <td class="paramname"><em>a_engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_p_i_c_t_u_r_e___t_i_m.html">picture_tim_t</a> *&#160;</td>
          <td class="paramname"><em>a_picture_tim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>updates resolution time </p>
<p>the most important part of the processing. Basing on time from engine timer (ratio time) the resoltion time is counting. It is in every read from callback feedback from gpio input by phototransisor sensor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">engine_tim_t</td><td>engine_tim_t instance </td></tr>
    <tr><td class="paramname">picture_tim_t</td><td>picture_tim_t instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_p_i_c_t_u_r_e___t_i_m.html" title="struct represanting timer for counting the time of leds switching on in smallest angle ...">PICTURE_TIM</a> </dd>
<dd>
<a class="el" href="struct_e_n_g_i_n_e___t_i_m.html" title="struct represanting timer for counting the time of whole ratio ">ENGINE_TIM</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
