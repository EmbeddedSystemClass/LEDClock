\hypertarget{service_8c}{}\section{C\+:/\+Users/\+Jakub Wieczorek/\+Desktop/studia/\+S\+M\+S/spectral\+\_\+clock/code/\+Src/service.c File Reference}
\label{service_8c}\index{C\+:/\+Users/\+Jakub Wieczorek/\+Desktop/studia/\+S\+M\+S/spectral\+\_\+clock/code/\+Src/service.\+c@{C\+:/\+Users/\+Jakub Wieczorek/\+Desktop/studia/\+S\+M\+S/spectral\+\_\+clock/code/\+Src/service.\+c}}


service source file.  


{\ttfamily \#include \char`\"{}service.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stdbool.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}pictures.\+h\char`\"{}}\newline
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{service_8c_a0471005c9a43a9287ead2b95df751f01}{latch\+\_\+data}} (\mbox{\hyperlink{struct_l_e_d___l_a_t_c_h}{led\+\_\+latch\+\_\+t}} a\+\_\+latch)
\begin{DoxyCompactList}\small\item\em latches states which are in leds array in led\+\_\+latch\+\_\+t instance \end{DoxyCompactList}\item 
void \mbox{\hyperlink{service_8c_a7d0d368b66c57ad37fa7ad07d429e438}{update\+\_\+leds}} (\mbox{\hyperlink{struct_p_i_c_t_u_r_e}{picture\+\_\+t}} a\+\_\+picture)
\begin{DoxyCompactList}\small\item\em sets information from the picture data into leds in particular latches \end{DoxyCompactList}\item 
void \mbox{\hyperlink{service_8c_ad887913327f9f3c12086cc7ba2ef924c}{update\+\_\+resolution\+\_\+time}} (\mbox{\hyperlink{struct_e_n_g_i_n_e___t_i_m}{engine\+\_\+tim\+\_\+t}} $\ast$a\+\_\+engine\+\_\+tim, \mbox{\hyperlink{struct_p_i_c_t_u_r_e___t_i_m}{picture\+\_\+tim\+\_\+t}} $\ast$a\+\_\+picture\+\_\+tim)
\begin{DoxyCompactList}\small\item\em updates resolution time \end{DoxyCompactList}\item 
void \mbox{\hyperlink{service_8c_af84ff48f1ea8053222ec3db499c1d37f}{change\+\_\+picture}} (uint8\+\_\+t a\+\_\+picture\+\_\+idx, \mbox{\hyperlink{struct_p_i_c_t_u_r_e}{picture\+\_\+t}} $\ast$a\+\_\+picture)
\begin{DoxyCompactList}\small\item\em change picture \textquotesingle{}A\textquotesingle{} -\/$>$ H\+A\+L\+F\+\_\+\+W\+H\+E\+EL \textquotesingle{}B\textquotesingle{} -\/$>$ C\+L\+O\+CK \textquotesingle{}C\textquotesingle{} -\/$>$ O\+N\+Y\+KS \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{service_8c_a4f138eb2432c3cc07e3cde48b45ed419}\label{service_8c_a4f138eb2432c3cc07e3cde48b45ed419}} 
\mbox{\hyperlink{struct_l_e_d___l_a_t_c_h}{led\+\_\+latch\+\_\+t}} {\bfseries U2\+\_\+upper}
\item 
\mbox{\Hypertarget{service_8c_acd92be42fae68d5185da1652eef887af}\label{service_8c_acd92be42fae68d5185da1652eef887af}} 
\mbox{\hyperlink{struct_l_e_d___l_a_t_c_h}{led\+\_\+latch\+\_\+t}} {\bfseries U19\+\_\+lower}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
service source file. 

\begin{DoxyAuthor}{Author}
Jakub Wieczorek \href{mailto:jakub.wieczorek0101@gmail.com}{\tt jakub.\+wieczorek0101@gmail.\+com} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
10.\+06.\+2018 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


\subsection{Function Documentation}
\mbox{\Hypertarget{service_8c_af84ff48f1ea8053222ec3db499c1d37f}\label{service_8c_af84ff48f1ea8053222ec3db499c1d37f}} 
\index{service.\+c@{service.\+c}!change\+\_\+picture@{change\+\_\+picture}}
\index{change\+\_\+picture@{change\+\_\+picture}!service.\+c@{service.\+c}}
\subsubsection{\texorpdfstring{change\+\_\+picture()}{change\_picture()}}
{\footnotesize\ttfamily void change\+\_\+picture (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{a\+\_\+picture\+\_\+idx,  }\item[{\mbox{\hyperlink{struct_p_i_c_t_u_r_e}{picture\+\_\+t}} $\ast$}]{a\+\_\+picture }\end{DoxyParamCaption})}



change picture \textquotesingle{}A\textquotesingle{} -\/$>$ H\+A\+L\+F\+\_\+\+W\+H\+E\+EL \textquotesingle{}B\textquotesingle{} -\/$>$ C\+L\+O\+CK \textquotesingle{}C\textquotesingle{} -\/$>$ O\+N\+Y\+KS 


\begin{DoxyParams}{Parameters}
{\em a\+\_\+picture\+\_\+idx} & uint8\+\_\+t a\+\_\+picture\+\_\+idx above indexes \\
\hline
{\em a\+\_\+picture} & picture\+\_\+t a\+\_\+picture pointer to picture\+\_\+t instance it will be update in function \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{struct_p_i_c_t_u_r_e}{P\+I\+C\+T\+U\+RE}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{service_8c_a0471005c9a43a9287ead2b95df751f01}\label{service_8c_a0471005c9a43a9287ead2b95df751f01}} 
\index{service.\+c@{service.\+c}!latch\+\_\+data@{latch\+\_\+data}}
\index{latch\+\_\+data@{latch\+\_\+data}!service.\+c@{service.\+c}}
\subsubsection{\texorpdfstring{latch\+\_\+data()}{latch\_data()}}
{\footnotesize\ttfamily void latch\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_l_e_d___l_a_t_c_h}{led\+\_\+latch\+\_\+t}}}]{a\+\_\+latch }\end{DoxyParamCaption})}



latches states which are in leds array in led\+\_\+latch\+\_\+t instance 


\begin{DoxyParams}{Parameters}
{\em led\+\_\+latch\+\_\+t} & a\+\_\+latch \mbox{\hyperlink{struct_l_e_d___l_a_t_c_h}{L\+E\+D\+\_\+\+L\+A\+T\+CH}} instance \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{struct_l_e_d___l_a_t_c_h}{L\+E\+D\+\_\+\+L\+A\+T\+CH}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{service_8c_a7d0d368b66c57ad37fa7ad07d429e438}\label{service_8c_a7d0d368b66c57ad37fa7ad07d429e438}} 
\index{service.\+c@{service.\+c}!update\+\_\+leds@{update\+\_\+leds}}
\index{update\+\_\+leds@{update\+\_\+leds}!service.\+c@{service.\+c}}
\subsubsection{\texorpdfstring{update\+\_\+leds()}{update\_leds()}}
{\footnotesize\ttfamily void update\+\_\+leds (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_p_i_c_t_u_r_e}{picture\+\_\+t}}}]{a\+\_\+picture }\end{DoxyParamCaption})}



sets information from the picture data into leds in particular latches 


\begin{DoxyParams}{Parameters}
{\em picture\+\_\+t} & a\+\_\+picture picture\+\_\+t instance \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{struct_p_i_c_t_u_r_e}{P\+I\+C\+T\+U\+RE}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{service_8c_ad887913327f9f3c12086cc7ba2ef924c}\label{service_8c_ad887913327f9f3c12086cc7ba2ef924c}} 
\index{service.\+c@{service.\+c}!update\+\_\+resolution\+\_\+time@{update\+\_\+resolution\+\_\+time}}
\index{update\+\_\+resolution\+\_\+time@{update\+\_\+resolution\+\_\+time}!service.\+c@{service.\+c}}
\subsubsection{\texorpdfstring{update\+\_\+resolution\+\_\+time()}{update\_resolution\_time()}}
{\footnotesize\ttfamily void update\+\_\+resolution\+\_\+time (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_n_g_i_n_e___t_i_m}{engine\+\_\+tim\+\_\+t}} $\ast$}]{a\+\_\+engine,  }\item[{\mbox{\hyperlink{struct_p_i_c_t_u_r_e___t_i_m}{picture\+\_\+tim\+\_\+t}} $\ast$}]{a\+\_\+picture\+\_\+tim }\end{DoxyParamCaption})}



updates resolution time 

the most important part of the processing. Basing on time from engine timer (ratio time) the resoltion time is counting. It is in every read from callback feedback from gpio input by phototransisor sensor. 
\begin{DoxyParams}{Parameters}
{\em engine\+\_\+tim\+\_\+t} & engine\+\_\+tim\+\_\+t instance \\
\hline
{\em picture\+\_\+tim\+\_\+t} & picture\+\_\+tim\+\_\+t instance \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{struct_p_i_c_t_u_r_e___t_i_m}{P\+I\+C\+T\+U\+R\+E\+\_\+\+T\+IM}} 

\mbox{\hyperlink{struct_e_n_g_i_n_e___t_i_m}{E\+N\+G\+I\+N\+E\+\_\+\+T\+IM}} 
\end{DoxySeeAlso}
